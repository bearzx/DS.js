{"version":3,"sources":["webpack:///out/bundle.js","webpack:///webpack/bootstrap 3b7dd8c55dfc044fe52b","webpack:///./demo.ts","webpack:///./src/tables.ts","webpack:///./src/vgtemplates.ts"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","id","loaded","call","m","c","p","tables","t","Table","read_table_csv_sync","with_row","a","b","d","with_rows","show","vgt","this","_t","_labels","_column_order","prototype","read_table","table_init","_this","d3","keys","forEach","item","index","read_table_csv_async","url","callback","csv","data","$","ajax","dataType","async","success","csvParse","num_rows","length","labels","num_columns","Object","column_by_id","col","column_name","row","push","column_by_name","name","columns","cols","label","rows","Array","o_row","add_column","relabel","select_row","select_column","delete_row","delete_column","where","sort","group","groups","pivot","join","stats","percentile","sample","sample_from_distribution","split","s","html","plot","bar","scatter","hist","column","bins","elem","xs","parseInt","x","y","console","log","templates","VGTemplate","vg","parse","spec","error","chart","el","update","vhist","vbar","boxplot","_values","width","height","padding","top","left","bottom","right","signals","init","streams","type","expr","values","scales","range","domain","field","nice","axes","scale","marks","from","properties","enter","band","offset","y2","value","fill","test","align","signal","dx","mult","text","fillOpacity","transform","output","start","end","maxbins"],"mappings":"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","file":"./out/bundle.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\tvar tables = __webpack_require__(1);\n\tvar t = new tables.Table();\n\t// t.read_table_csv('demodata.csv', function() {\n\t//     console.log(t.num_rows());\n\t// });\n\tt.read_table_csv_sync('data/demodata.csv');\n\t// t.read_table_csv_sync('data/city_property_details_datasd_1.csv');\n\t// console.log(t.num_rows());\n\t// console.log(t.num_columns());\n\t// console.log(t.labels());\n\t// console.log(t.row(5));\n\t// console.log(t.column_by_id(0));\n\t// console.log(t.columns());\n\t// t.hist('month_acquired');\n\t// t.vhist('month_acquired');\n\tt.with_row([0, 0, 0, 0]);\n\tt.with_row({ 'a': 1, 'b': 2, 'c': 3, 'd': 4 });\n\tt.with_rows([[9, 10, 11, 12], [1, 2, 3, 4]]);\n\tt.show();\n\n\n/***/ },\n/* 1 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\tvar vgt = __webpack_require__(2);\n\tvar Table = (function () {\n\t    function Table() {\n\t        this._t = [];\n\t        this._labels = [];\n\t        this._column_order = {};\n\t    }\n\t    Table.prototype.read_table = function () {\n\t    };\n\t    Table.prototype.table_init = function () {\n\t        var _this = this;\n\t        this._labels = d3.keys(this._t[0]);\n\t        this._labels.forEach(function (item, index) {\n\t            _this._column_order[item] = index;\n\t        });\n\t        // console.log(this._column_order);\n\t    };\n\t    Table.prototype.read_table_csv_async = function (url, callback) {\n\t        var _this = this;\n\t        d3.csv(url, function (data) {\n\t            _this._t = data;\n\t            _this.table_init();\n\t            callback();\n\t        });\n\t    };\n\t    Table.prototype.read_table_csv_sync = function (url) {\n\t        var _this = this;\n\t        $.ajax({\n\t            dataType: \"text\",\n\t            url: url,\n\t            async: false,\n\t            success: function (data) {\n\t                _this._t = d3.csvParse(data);\n\t                _this.table_init();\n\t            }\n\t        });\n\t    };\n\t    Table.prototype.num_rows = function () {\n\t        return this._t.length;\n\t    };\n\t    Table.prototype.labels = function () {\n\t        // console.log(d3.keys(this._t[0]));\n\t        // return d3.keys(this._t[0]);\n\t        return this._labels;\n\t    };\n\t    Table.prototype.num_columns = function () {\n\t        // console.log(this._t[0]);\n\t        return Object.keys(this._t[0]).length;\n\t    };\n\t    Table.prototype.column_by_id = function (index) {\n\t        var col = [];\n\t        var column_name = this._labels[index];\n\t        this._t.forEach(function (row) {\n\t            col.push(row[column_name]);\n\t        });\n\t        return col;\n\t    };\n\t    Table.prototype.column_by_name = function (name) {\n\t        var col = [];\n\t        this._t.forEach(function (row) {\n\t            col.push(row[name]);\n\t        });\n\t        return col;\n\t    };\n\t    Table.prototype.columns = function () {\n\t        var _this = this;\n\t        var cols = [];\n\t        this._labels.forEach(function (label) {\n\t            cols.push(_this.column_by_name(label));\n\t        });\n\t        return cols;\n\t    };\n\t    Table.prototype.row = function (index) {\n\t        return this._t[index];\n\t    };\n\t    // return a view of all rows\n\t    Table.prototype.rows = function () {\n\t        return this._t;\n\t    };\n\t    Table.prototype.with_row = function (row) {\n\t        if (row instanceof Array) {\n\t            var o_row = {};\n\t            this._labels.forEach(function (label, index) {\n\t                o_row[label] = row[index];\n\t            });\n\t            this._t.push(o_row);\n\t        }\n\t        else if (row instanceof Object) {\n\t            this._t.push(row);\n\t        }\n\t        return this;\n\t    };\n\t    Table.prototype.with_rows = function (rows) {\n\t        var _this = this;\n\t        rows.forEach(function (row) {\n\t            _this.with_row(row);\n\t        });\n\t    };\n\t    Table.prototype.add_column = function () {\n\t    };\n\t    Table.prototype.relabel = function () {\n\t    };\n\t    Table.prototype.select_row = function () {\n\t    };\n\t    Table.prototype.select_column = function () {\n\t    };\n\t    Table.prototype.delete_row = function () {\n\t    };\n\t    Table.prototype.delete_column = function () {\n\t    };\n\t    Table.prototype.where = function () {\n\t    };\n\t    Table.prototype.sort = function () {\n\t    };\n\t    Table.prototype.group = function () {\n\t    };\n\t    Table.prototype.groups = function () {\n\t    };\n\t    Table.prototype.pivot = function () {\n\t    };\n\t    Table.prototype.join = function () {\n\t    };\n\t    Table.prototype.stats = function () {\n\t    };\n\t    Table.prototype.percentile = function () {\n\t    };\n\t    Table.prototype.sample = function () {\n\t    };\n\t    Table.prototype.sample_from_distribution = function () {\n\t    };\n\t    Table.prototype.split = function () {\n\t    };\n\t    Table.prototype.show = function () {\n\t        var _this = this;\n\t        var s = \"<table>\";\n\t        s += \"<tr>\";\n\t        this._labels.forEach(function (label) {\n\t            s += \"<th>\";\n\t            s += label;\n\t            s += \"</th>\";\n\t        });\n\t        s += \"</tr>\";\n\t        this._t.forEach(function (row) {\n\t            s += \"<tr>\";\n\t            // console.log(row);\n\t            _this._labels.forEach(function (label) {\n\t                s += \"<td>\";\n\t                s += row[label];\n\t                s += \"</td>\";\n\t            });\n\t            s += \"</tr>\";\n\t        });\n\t        // console.log(s);\n\t        // console.log($(\"#table-area\").html(s));        \n\t        $(\"#table-area\").html(s);\n\t    };\n\t    Table.prototype.plot = function () {\n\t    };\n\t    Table.prototype.bar = function () {\n\t    };\n\t    Table.prototype.scatter = function () {\n\t    };\n\t    Table.prototype.hist = function (column) {\n\t        var bins = {};\n\t        this._t.forEach(function (row) {\n\t            var elem = row[column];\n\t            if (elem.length != 0) {\n\t                if (elem in bins) {\n\t                    bins[elem] += 1;\n\t                }\n\t                else {\n\t                    bins[elem] = 1;\n\t                }\n\t            }\n\t        });\n\t        var data = [];\n\t        var xs = Object.keys(bins);\n\t        xs.sort(function (a, b) { return parseInt(a) - parseInt(b); });\n\t        // console.log(xs);\n\t        xs.forEach(function (x) {\n\t            data.push({ 'x': x, 'y': bins[x] });\n\t        });\n\t        console.log(data);\n\t        var templates = new vgt.VGTemplate();\n\t        vg.parse.spec(templates.bar(data), function (error, chart) {\n\t            chart({ el: \"#vis\" }).update();\n\t        });\n\t    };\n\t    Table.prototype.vhist = function (column) {\n\t        var templates = new vgt.VGTemplate();\n\t        vg.parse.spec(templates.vbar(this._t), function (error, chart) {\n\t            chart({ el: \"#vis\" }).update();\n\t        });\n\t    };\n\t    Table.prototype.boxplot = function () {\n\t    };\n\t    return Table;\n\t}());\n\texports.Table = Table;\n\n\n/***/ },\n/* 2 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\tvar VGTemplate = (function () {\n\t    function VGTemplate() {\n\t    }\n\t    VGTemplate.prototype.bar = function (_values) {\n\t        var x = {\n\t            \"width\": 400,\n\t            \"height\": 200,\n\t            \"padding\": { \"top\": 10, \"left\": 30, \"bottom\": 30, \"right\": 10 },\n\t            \"signals\": [\n\t                {\n\t                    \"name\": \"tooltip\",\n\t                    \"init\": {},\n\t                    \"streams\": [\n\t                        { \"type\": \"rect:mouseover\", \"expr\": \"datum\" },\n\t                        { \"type\": \"rect:mouseout\", \"expr\": \"{}\" }\n\t                    ]\n\t                }\n\t            ],\n\t            \"data\": [\n\t                {\n\t                    \"name\": \"table\",\n\t                    \"values\": _values\n\t                }\n\t            ],\n\t            \"scales\": [\n\t                {\n\t                    \"name\": \"x\",\n\t                    \"type\": \"ordinal\",\n\t                    \"range\": \"width\",\n\t                    \"domain\": { \"data\": \"table\", \"field\": \"x\" }\n\t                },\n\t                {\n\t                    \"name\": \"y\",\n\t                    \"type\": \"linear\",\n\t                    \"range\": \"height\",\n\t                    \"domain\": { \"data\": \"table\", \"field\": \"y\" },\n\t                    \"nice\": true\n\t                }\n\t            ],\n\t            \"axes\": [{ \"type\": \"x\", \"scale\": \"x\" }],\n\t            \"marks\": [\n\t                {\n\t                    \"type\": \"rect\",\n\t                    \"from\": { \"data\": \"table\" },\n\t                    \"properties\": {\n\t                        \"enter\": {\n\t                            \"x\": { \"scale\": \"x\", \"field\": \"x\" },\n\t                            \"width\": { \"scale\": \"x\", \"band\": true, \"offset\": -1 },\n\t                            \"y\": { \"scale\": \"y\", \"field\": \"y\" },\n\t                            \"y2\": { \"scale\": \"y\", \"value\": 0 }\n\t                        },\n\t                        \"update\": {\n\t                            \"fill\": [\n\t                                {\n\t                                    \"test\": \"datum._id == tooltip._id\",\n\t                                    \"value\": \"red\"\n\t                                },\n\t                                { \"value\": \"steelblue\" }\n\t                            ]\n\t                        }\n\t                    }\n\t                },\n\t                {\n\t                    \"type\": \"text\",\n\t                    \"properties\": {\n\t                        \"enter\": {\n\t                            \"align\": { \"value\": \"center\" },\n\t                            \"fill\": { \"value\": \"#333\" }\n\t                        },\n\t                        \"update\": {\n\t                            \"x\": { \"scale\": \"x\", \"signal\": \"tooltip.x\" },\n\t                            \"dx\": { \"scale\": \"x\", \"band\": true, \"mult\": 0.5 },\n\t                            \"y\": { \"scale\": \"y\", \"signal\": \"tooltip.y\", \"offset\": -5 },\n\t                            \"text\": { \"signal\": \"tooltip.y\" },\n\t                            \"fillOpacity\": [\n\t                                {\n\t                                    \"test\": \"!tooltip._id\",\n\t                                    \"value\": 0\n\t                                },\n\t                                { \"value\": 1 }\n\t                            ]\n\t                        }\n\t                    }\n\t                }\n\t            ]\n\t        };\n\t        return x;\n\t    };\n\t    VGTemplate.prototype.vbar = function (_values) {\n\t        var x = {\n\t            \"width\": 400,\n\t            \"height\": 200,\n\t            \"padding\": { \"top\": 10, \"left\": 30, \"bottom\": 30, \"right\": 10 },\n\t            \"signals\": [\n\t                {\n\t                    \"name\": \"tooltip\",\n\t                    \"init\": {},\n\t                    \"streams\": [\n\t                        { \"type\": \"rect:mouseover\", \"expr\": \"datum\" },\n\t                        { \"type\": \"rect:mouseout\", \"expr\": \"{}\" }\n\t                    ]\n\t                }\n\t            ],\n\t            \"data\": [\n\t                {\n\t                    \"name\": \"table\",\n\t                    \"values\": _values,\n\t                    \"transform\": [\n\t                        {\n\t                            \"type\": \"bin\",\n\t                            \"field\": \"month_required\",\n\t                            \"output\": { \"start\": \"bin_start\", \"end\": \"bin_end\" },\n\t                            \"maxbins\": 12\n\t                        }\n\t                    ]\n\t                }\n\t            ],\n\t            \"scales\": [\n\t                {\n\t                    \"name\": \"x\",\n\t                    \"type\": \"linear\",\n\t                    \"range\": \"width\",\n\t                    \"domain\": { \"data\": \"table\", \"field\": [\"bin_start\", \"bin_end\"] }\n\t                },\n\t                {\n\t                    \"name\": \"y\",\n\t                    \"type\": \"linear\",\n\t                    \"range\": \"height\",\n\t                    \"domain\": { \"data\": \"table\", \"field\": \"y\" },\n\t                    \"nice\": true\n\t                }\n\t            ],\n\t            \"axes\": [{ \"type\": \"x\", \"scale\": \"x\" }],\n\t            \"marks\": [\n\t                {\n\t                    \"type\": \"rect\",\n\t                    \"from\": { \"data\": \"table\" },\n\t                    \"properties\": {\n\t                        \"enter\": {\n\t                            \"x\": { \"scale\": \"x\", \"field\": \"bin_start\" },\n\t                            \"width\": { \"scale\": \"x\", \"band\": true, \"offset\": -1 },\n\t                            \"y\": { \"scale\": \"y\", \"field\": \"y\" },\n\t                            \"y2\": { \"scale\": \"y\", \"value\": 0 }\n\t                        },\n\t                        \"update\": {\n\t                            \"fill\": [\n\t                                {\n\t                                    \"test\": \"datum._id == tooltip._id\",\n\t                                    \"value\": \"red\"\n\t                                },\n\t                                { \"value\": \"steelblue\" }\n\t                            ]\n\t                        }\n\t                    }\n\t                },\n\t                {\n\t                    \"type\": \"text\",\n\t                    \"properties\": {\n\t                        \"enter\": {\n\t                            \"align\": { \"value\": \"center\" },\n\t                            \"fill\": { \"value\": \"#333\" }\n\t                        },\n\t                        \"update\": {\n\t                            \"x\": { \"scale\": \"x\", \"signal\": \"tooltip.x\" },\n\t                            \"dx\": { \"scale\": \"x\", \"band\": true, \"mult\": 0.5 },\n\t                            \"y\": { \"scale\": \"y\", \"signal\": \"tooltip.y\", \"offset\": -5 },\n\t                            \"text\": { \"signal\": \"tooltip.y\" },\n\t                            \"fillOpacity\": [\n\t                                {\n\t                                    \"test\": \"!tooltip._id\",\n\t                                    \"value\": 0\n\t                                },\n\t                                { \"value\": 1 }\n\t                            ]\n\t                        }\n\t                    }\n\t                }\n\t            ]\n\t        };\n\t        return x;\n\t    };\n\t    return VGTemplate;\n\t}());\n\texports.VGTemplate = VGTemplate;\n\n\n/***/ }\n/******/ ]);\n\n\n// WEBPACK FOOTER //\n// out/bundle.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 3b7dd8c55dfc044fe52b","import * as tables from './src/tables';\n\nvar t = new tables.Table();\n// t.read_table_csv('demodata.csv', function() {\n//     console.log(t.num_rows());\n// });\nt.read_table_csv_sync('data/demodata.csv');\n// t.read_table_csv_sync('data/city_property_details_datasd_1.csv');\n// console.log(t.num_rows());\n// console.log(t.num_columns());\n// console.log(t.labels());\n// console.log(t.row(5));\n// console.log(t.column_by_id(0));\n// console.log(t.columns());\n// t.hist('month_acquired');\n// t.vhist('month_acquired');\nt.with_row([0, 0, 0, 0]);\nt.with_row({'a': 1, 'b': 2, 'c': 3, 'd': 4});\nt.with_rows([[9, 10, 11, 12], [1, 2, 3, 4]]);\nt.show();\n\n\n// WEBPACK FOOTER //\n// ./demo.ts","import * as vgt from './vgtemplates';\n\ndeclare var d3: any;\ndeclare var $: any;\ndeclare var vg: any;\n\nexport class Table {\n\n    private _t: any = [];\n    private _labels: any = [];\n    private _column_order: any = {};\n\n    constructor() {\n\n    }\n\n    read_table() {\n\n    }\n    \n    private table_init() {\n        this._labels = d3.keys(this._t[0]);\n        this._labels.forEach((item, index) => {\n            this._column_order[item] = index;\n        });\n        // console.log(this._column_order);\n    }\n\n    public read_table_csv_async(url: string, callback: any) {\n        var _this = this;\n        d3.csv(url, function(data) {\n            _this._t = data;\n            _this.table_init();\n            callback();\n        });\n    }\n\n    public read_table_csv_sync(url: string) {\n        var _this = this;\n        $.ajax({\n            dataType: \"text\",\n            url: url,\n            async: false,\n            success: function(data) {\n                _this._t = d3.csvParse(data);\n                _this.table_init();                \n            }\n        });        \n    }\n\n    public num_rows() {        \n        return this._t.length;\n    }    \n\n    labels() {\n        // console.log(d3.keys(this._t[0]));\n        // return d3.keys(this._t[0]);\n        return this._labels;\n    }\n\n    public num_columns() {\n        // console.log(this._t[0]);\n        return Object.keys(this._t[0]).length;\n    }\n\n    column_by_id(index: number) {\n        var col = [];\n        var column_name = this._labels[index];\n        this._t.forEach(function(row) {\n            col.push(row[column_name]);\n        });\n        return col;\n    }\n\n    column_by_name(name: string) {\n        var col = [];\n        this._t.forEach(function(row) {\n            col.push(row[name]);\n        });\n        return col;\n    }\n\n    columns() {\n        var _this = this;\n        var cols = [];\n        this._labels.forEach(function(label) {\n            cols.push(_this.column_by_name(label));\n        });\n        return cols;\n    }\n\n    row(index: number) {\n        return this._t[index];\n    }\n\n    // return a view of all rows\n    rows() {\n        return this._t;\n    }\n\n    with_row(row) {\n        if (row instanceof Array) {\n            var o_row = {};\n            this._labels.forEach(function(label, index) {\n                o_row[label] = row[index];\n            });\n            this._t.push(o_row);\n        } else if (row instanceof Object) {\n            this._t.push(row);\n        }\n\n        return this;        \n    }\n\n    with_rows(rows) {\n        var _this = this;\n        rows.forEach(function(row) {            \n            _this.with_row(row);\n        });\n    }\n\n    add_column() {\n\n    }\n\n    relabel() {\n\n    }\n\n    select_row() {\n\n    }\n\n    select_column() {\n\n    }\n\n    delete_row() {\n\n    }\n\n    delete_column() {\n\n    }\n\n    where() {\n\n    }\n\n    sort() {\n\n    }\n\n    group() {\n\n    }\n\n    groups() {\n\n    }\n\n    pivot() {\n\n    }\n\n    join() {\n\n    }\n\n    stats() {\n\n    }\n\n    percentile() {\n\n    }\n\n    sample() {\n        \n    }\n\n    sample_from_distribution() {\n\n    }\n\n    split() {\n\n    }\n\n    show() {\n        var _this = this;\n        var s = \"<table>\";\n        s += \"<tr>\";\n        this._labels.forEach(function(label) {\n            s += \"<th>\";\n            s += label;\n            s += \"</th>\";\n        });\n        s += \"</tr>\";\n        this._t.forEach(function(row) {\n            s += \"<tr>\";\n            // console.log(row);\n            _this._labels.forEach(function(label) {\n                s += \"<td>\";\n                s += row[label];\n                s += \"</td>\";\n            });\n            s += \"</tr>\";\n        });\n        // console.log(s);\n        // console.log($(\"#table-area\").html(s));        \n        $(\"#table-area\").html(s);\n    }\n\n    plot() {\n\n    }\n\n    bar() {\n\n    }\n\n    scatter() {\n\n    }\n\n    hist(column: string) {\n        var bins = {};\n        this._t.forEach(function(row) {\n            var elem = row[column];\n            if (elem.length != 0) {                        \n                if (elem in bins) {\n                    bins[elem] += 1;\n                } else {\n                    bins[elem] = 1;\n                }\n            }\n        });\n        var data = [];\n        var xs = Object.keys(bins);\n        xs.sort((a, b) => parseInt(a) - parseInt(b));\n        // console.log(xs);\n        xs.forEach(function(x) {\n            data.push({'x': x, 'y': bins[x]});\n        });\n        console.log(data);\n        var templates = new vgt.VGTemplate();\n        vg.parse.spec(templates.bar(data), function(error, chart) {\n            chart({el: \"#vis\"}).update();\n        });          \n    }\n\n    vhist(column: string) {\n        var templates = new vgt.VGTemplate();\n        vg.parse.spec(templates.vbar(this._t), function(error, chart) {\n            chart({el: \"#vis\"}).update();\n        });\n    }\n\n    boxplot() {\n\n    }\n\n}\n\n\n// WEBPACK FOOTER //\n// ./src/tables.ts","export class VGTemplate {\n    constructor() {\n\n    }\n\n    public bar(_values) {\n        var x = {\n            \"width\": 400,\n            \"height\": 200,\n            \"padding\": { \"top\": 10, \"left\": 30, \"bottom\": 30, \"right\": 10 },\n\n            \"signals\": [\n                {\n                    \"name\": \"tooltip\",\n                    \"init\": {},\n                    \"streams\": [\n                        { \"type\": \"rect:mouseover\", \"expr\": \"datum\" },\n                        { \"type\": \"rect:mouseout\", \"expr\": \"{}\" }\n                    ]\n                }\n            ],\n\n            \"data\": [\n                {\n                    \"name\": \"table\",\n                    \"values\": _values                                        \n                }\n            ],\n\n            \"scales\": [\n                {\n                    \"name\": \"x\",\n                    \"type\": \"ordinal\",\n                    \"range\": \"width\",\n                    \"domain\": { \"data\": \"table\", \"field\": \"x\" }\n                },\n                {\n                    \"name\": \"y\",\n                    \"type\": \"linear\",\n                    \"range\": \"height\",\n                    \"domain\": { \"data\": \"table\", \"field\": \"y\" },\n                    \"nice\": true\n                }\n            ],\n\n            \"axes\": [{ \"type\": \"x\", \"scale\": \"x\" }],\n\n            \"marks\": [\n                {\n                    \"type\": \"rect\",\n                    \"from\": { \"data\": \"table\" },\n                    \"properties\": {\n                        \"enter\": {\n                            \"x\": { \"scale\": \"x\", \"field\": \"x\" },\n                            \"width\": { \"scale\": \"x\", \"band\": true, \"offset\": -1 },\n                            \"y\": { \"scale\": \"y\", \"field\": \"y\" },\n                            \"y2\": { \"scale\": \"y\", \"value\": 0 }\n                        },\n                        \"update\": {\n                            \"fill\": [\n                                {\n                                    \"test\": \"datum._id == tooltip._id\",\n                                    \"value\": \"red\"\n                                },\n                                { \"value\": \"steelblue\" }\n                            ]\n                        }\n                    }\n                },\n                {\n                    \"type\": \"text\",\n                    \"properties\": {\n                        \"enter\": {\n                            \"align\": { \"value\": \"center\" },\n                            \"fill\": { \"value\": \"#333\" }\n                        },\n                        \"update\": {\n                            \"x\": { \"scale\": \"x\", \"signal\": \"tooltip.x\" },\n                            \"dx\": { \"scale\": \"x\", \"band\": true, \"mult\": 0.5 },\n                            \"y\": { \"scale\": \"y\", \"signal\": \"tooltip.y\", \"offset\": -5 },\n                            \"text\": { \"signal\": \"tooltip.y\" },\n                            \"fillOpacity\": [\n                                {\n                                    \"test\": \"!tooltip._id\",\n                                    \"value\": 0\n                                },\n                                { \"value\": 1 }\n                            ]\n                        }\n                    }\n                }\n            ]\n        };\n        \n        return x;\n    }\n\n    public vbar(_values) {\n        var x = {\n            \"width\": 400,\n            \"height\": 200,\n            \"padding\": { \"top\": 10, \"left\": 30, \"bottom\": 30, \"right\": 10 },\n\n            \"signals\": [\n                {\n                    \"name\": \"tooltip\",\n                    \"init\": {},\n                    \"streams\": [\n                        { \"type\": \"rect:mouseover\", \"expr\": \"datum\" },\n                        { \"type\": \"rect:mouseout\", \"expr\": \"{}\" }\n                    ]\n                }\n            ],\n\n            \"data\": [\n                {\n                    \"name\": \"table\",\n                    \"values\": _values,\n                    \"transform\": [\n                        {\n                            \"type\": \"bin\",\n                            \"field\": \"month_required\",\n                            \"output\": {\"start\": \"bin_start\", \"end\": \"bin_end\"},\n                            \"maxbins\": 12\n                        }\n                        // ,{\n                        //     \"type\": \"aggregate\",\n                        //     \"summarize\": [\n                        //         { \"field\": \"bin_start\", \"ops\": [\"count\"], \"as\": [\"y\"] }\n                        //     ]\n                        // }\n                    ]\n                }\n            ],\n\n            \"scales\": [\n                {\n                    \"name\": \"x\",\n                    \"type\": \"linear\",\n                    \"range\": \"width\",\n                    \"domain\": { \"data\": \"table\", \"field\": [\"bin_start\", \"bin_end\"] }\n                },\n                {\n                    \"name\": \"y\",\n                    \"type\": \"linear\",\n                    \"range\": \"height\",\n                    \"domain\": { \"data\": \"table\", \"field\": \"y\" },\n                    \"nice\": true\n                }\n            ],\n\n            \"axes\": [{ \"type\": \"x\", \"scale\": \"x\" }],\n\n            \"marks\": [\n                {\n                    \"type\": \"rect\",\n                    \"from\": { \"data\": \"table\" },\n                    \"properties\": {\n                        \"enter\": {\n                            \"x\": { \"scale\": \"x\", \"field\": \"bin_start\" },\n                            \"width\": { \"scale\": \"x\", \"band\": true, \"offset\": -1 },\n                            \"y\": { \"scale\": \"y\", \"field\": \"y\" },\n                            \"y2\": { \"scale\": \"y\", \"value\": 0 }\n                        },\n                        \"update\": {\n                            \"fill\": [\n                                {\n                                    \"test\": \"datum._id == tooltip._id\",\n                                    \"value\": \"red\"\n                                },\n                                { \"value\": \"steelblue\" }\n                            ]\n                        }\n                    }\n                },\n                {\n                    \"type\": \"text\",\n                    \"properties\": {\n                        \"enter\": {\n                            \"align\": { \"value\": \"center\" },\n                            \"fill\": { \"value\": \"#333\" }\n                        },\n                        \"update\": {\n                            \"x\": { \"scale\": \"x\", \"signal\": \"tooltip.x\" },\n                            \"dx\": { \"scale\": \"x\", \"band\": true, \"mult\": 0.5 },\n                            \"y\": { \"scale\": \"y\", \"signal\": \"tooltip.y\", \"offset\": -5 },\n                            \"text\": { \"signal\": \"tooltip.y\" },\n                            \"fillOpacity\": [\n                                {\n                                    \"test\": \"!tooltip._id\",\n                                    \"value\": 0\n                                },\n                                { \"value\": 1 }\n                            ]\n                        }\n                    }\n                }\n            ]\n        };\n        \n        return x;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/vgtemplates.ts"],"sourceRoot":""}